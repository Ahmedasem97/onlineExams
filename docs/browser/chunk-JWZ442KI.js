import{a as D,b as L,e as A,f as G}from"./chunk-UTW2SPDG.js";import"./chunk-JED2XIVW.js";import{b as w,c,d as x,e as F,f as _,g as f,h as E,i as M,j as y,l as k,m as P,n as T,o as N}from"./chunk-ADPH24XE.js";import{c as R}from"./chunk-FC7JWW5L.js";import"./chunk-MEDQAGYX.js";import{s as b,t as S}from"./chunk-GHB5YFEX.js";import{Cb as C,Db as u,Eb as d,Ia as o,Ja as p,_a as r,ab as h,da as g,hb as s,ib as a,jb as l,ob as v,xb as m}from"./chunk-LUDRP624.js";var I=()=>({text:"required",error:"required"}),O=t=>[t],$=(()=>{class t{constructor(e,i){this._AuthLipService=e,this._Router=i,this.isDisabled=!1,this.loginForm=new _({email:new f(null,[c.required]),password:new f(null,[c.required])})}loginSumbit(){this.loginForm.valid?(this.isDisabled=!0,this._AuthLipService.login(this.loginForm.value).subscribe({next:e=>{localStorage.setItem("token",e.token),this._AuthLipService.userToken(),this._Router.navigate(["/exams"]),this.isDisabled=!1,this.errMessage="",console.log(e)},error:e=>{console.log(e),this.errMessage=e.error.message,this.isDisabled=!1}})):this.loginForm.markAllAsTouched()}static{this.\u0275fac=function(i){return new(i||t)(p(N),p(b))}}static{this.\u0275cmp=g({type:t,selectors:[["app-login"]],standalone:!0,features:[C],decls:17,vars:21,consts:[[1,"container"],[1,"inner"],[3,"ngSubmit","formGroup"],[1,"gap-5","flex","flex-column"],[1,"card"],["pInputText","","formControlName","email","type","email","placeholder","Enter Email",1,"w-full"],[3,"errorText","formGroupErr","formControlErr"],["formControlName","password","placeholder","Password",3,"toggleMask","feedback"],[3,"apiResponeErr"],[1,"text-right","pt-3"],["routerLink","/auth/forgetPassword"],[3,"text","classes","divClasses"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"div",1)(2,"h1"),m(3,"Sign in"),a(),s(4,"form",2),v("ngSubmit",function(){return n.loginSumbit()}),s(5,"div",3)(6,"div",4),l(7,"input",5)(8,"app-error-message",6),a(),s(9,"div",4),l(10,"p-password",7)(11,"app-error-message",6)(12,"app-api-response-error",8),s(13,"div",9)(14,"a",10),m(15,"Recover Password?"),a()()(),l(16,"app-button",11),a()()()()),i&2&&(o(4),r("formGroup",n.loginForm),o(4),r("errorText",d(16,O,u(15,I)))("formGroupErr",n.loginForm)("formControlErr","email"),o(2),r("toggleMask",!0)("feedback",!1),o(),r("errorText",d(19,O,u(18,I)))("formGroupErr",n.loginForm)("formControlErr","password"),o(),r("apiResponeErr",n.errMessage),o(4),h("disabled",n.isDisabled),r("text","Sign in")("classes","w-full")("divClasses","pb-4"))},dependencies:[L,D,T,P,k,E,w,x,F,M,y,S,R,A,G],styles:["h1[_ngcontent-%COMP%]{font-size:24.78px;line-height:29.99px}input[_ngcontent-%COMP%]{box-shadow:0 10px 20px #4461f20d}.container[_ngcontent-%COMP%]{display:flex;justify-content:center}.inner[_ngcontent-%COMP%]{min-width:50%}a[_ngcontent-%COMP%]{color:var(--main-color);text-decoration:none;font-family:Poppins}  .p-password{display:block}  input{width:100%;background-color:#f9f9f9}"]})}}return t})();export{$ as LoginComponent};
