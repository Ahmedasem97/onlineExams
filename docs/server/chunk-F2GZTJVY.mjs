import './polyfills.server.mjs';
import{a as q,d as z}from"./chunk-QW55QEPM.mjs";import{a as ee,b as te}from"./chunk-DFWJ3CLW.mjs";import{d as X}from"./chunk-TWI2ECBJ.mjs";import{Ab as H,B as F,F as W,Fb as G,Gb as $,Hb as Y,Ja as L,L as U,Lb as J,Mb as Q,R as T,Wa as x,Xa as V,a as I,ab as B,c as v,ca as _,d as A,e as a,f as P,g as w,gb as K,i as E,k as b,l,m as u,n as p,o as R,p as k,q as d,r as D,sa as j,tb as S,u as y,w as N,x as C,zb as Z}from"./chunk-KUHFQSGB.mjs";import{a as O}from"./chunk-VVCT4QZE.mjs";var re=(()=>{class t{constructor(){this.title="onlineExams"}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=F({type:t,selectors:[["app-root"]],standalone:!0,features:[L],decls:2,vars:0,template:function(r,n){r&1&&j(0,"router-outlet")(1,"p-toast")},dependencies:[Y,te,ee]})}}return t})();var oe=[{path:"",redirectTo:"auth",pathMatch:"full"},{path:"auth",loadComponent:()=>import("./chunk-5BMIQCKY.mjs").then(t=>t.AuthLayoutComponent),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-WIAXNZAN.mjs").then(t=>t.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-3RPSQDN6.mjs").then(t=>t.RegisterComponent)},{path:"forgetPassword",loadComponent:()=>import("./chunk-45GZDHW6.mjs").then(t=>t.ForgetPasswordComponent)}]}];var g="Service workers are disabled or not supported by this browser";function ue(t){return w(()=>A(new Error(t)))}var h=class{constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=ue(g);else{let r=E(o,"controllerchange").pipe(a(()=>o.controller)),n=w(()=>v(o.controller)),s=P(n,r);this.worker=s.pipe(u(c=>!!c)),this.registration=this.worker.pipe(d(()=>o.getRegistration()));let M=E(o,"message").pipe(a(c=>c.data)).pipe(u(c=>c&&c.type)).pipe(k());M.connect(),this.events=M}}postMessage(o,e){return this.worker.pipe(p(1),D(r=>{r.postMessage(O({action:o},e))})).toPromise().then(()=>{})}postMessageWithOperation(o,e,r){let n=this.waitForOperationCompleted(r),s=this.postMessage(o,e);return Promise.all([s,n]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let e;return typeof o=="string"?e=r=>r.type===o:e=r=>o.includes(r.type),this.events.pipe(u(e))}nextEventOfType(o){return this.eventsOfType(o).pipe(p(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(u(e=>e.nonce===o),p(1),a(e=>{if(e.result!==void 0)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},he=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new I,!e.isEnabled){this.messages=l,this.notificationClicks=l,this.subscription=l;return}this.messages=this.sw.eventsOfType("PUSH").pipe(a(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(a(n=>n.data)),this.pushManager=this.sw.registration.pipe(a(n=>n.pushManager));let r=this.pushManager.pipe(d(n=>n.getSubscription()));this.subscription=b(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(g));let r={userVisibleOnly:!0},n=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return r.applicationServerKey=s,this.pushManager.pipe(d(i=>i.subscribe(r)),p(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(g));let e=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(p(1),d(e)).toPromise()}decodeBase64(e){return atob(e)}static{this.\u0275fac=function(r){return new(r||t)(C(h))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})(),de=(()=>{class t{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=l,this.unrecoverable=l;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(g));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(g));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static{this.\u0275fac=function(r){return new(r||t)(C(h))}}static{this.\u0275prov=y({token:t,factory:t.\u0275fac})}}return t})();var ne=new N("");function fe(t,o,e,r){return()=>{if(!(S(r)&&"serviceWorker"in navigator&&e.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let n;if(typeof e.registrationStrategy=="function")n=e.registrationStrategy();else{let[i,...m]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":n=v(null);break;case"registerWithDelay":n=ie(+m[0]||0);break;case"registerWhenStable":n=m[0]?b(se(t),ie(+m[0])):se(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}t.get(_).runOutsideAngular(()=>n.pipe(p(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:e.scope}).catch(i=>console.error("Service worker registration failed with:",i))))}}function ie(t){return v(null).pipe(R(t))}function se(t){return t.get(V).isStable.pipe(u(e=>e))}function ge(t,o){return new h(S(o)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var f=class{};function ae(t,o={}){return W([he,de,{provide:ne,useValue:t},{provide:f,useValue:o},{provide:h,useFactory:ge,deps:[f,T]},{provide:x,useFactory:fe,deps:[U,ne,f,T],multi:!0}])}var pe={providers:[J(oe,Q()),$(),Z(H()),ae("ngsw-worker.js",{enabled:!B(),registrationStrategy:"registerWhenStable:30000"}),X,q()]};var me={providers:[z()]},ce=K(pe,me);var ve=()=>G(re,ce),Ye=ve;export{Ye as a};
