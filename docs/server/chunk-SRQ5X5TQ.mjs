import './polyfills.server.mjs';
import{a as Y,d as J}from"./chunk-SNEVXTZR.mjs";import{a as oe,b as ne}from"./chunk-MEUOAHTG.mjs";import{d as re}from"./chunk-K3ND7XYO.mjs";import{A as $,C as X,E as C,H as ee,I as te,m as l,s as K,t as Z,u as q,z as Q}from"./chunk-AGTXZYB7.mjs";import{Bb as V,C as p,E as D,J as F,M as g,O as N,Oa as j,Ob as H,Qb as B,S as M,V as _,Vb as z,X as S,Y as m,aa as x,dc as G,ea as L,f as R,ib as U,j as b,k as P,n as a,pa as W,r as k,s as y,u as T,w as I,wa as c,x as h,y as d}from"./chunk-MXOY6KQU.mjs";import{a as A}from"./chunk-VVCT4QZE.mjs";var ie=(()=>{class e{constructor(){this.title="onlineExams"}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=x({type:e,selectors:[["app-root"]],standalone:!0,features:[V],decls:2,vars:0,template:function(r,n){r&1&&U(0,"router-outlet")(1,"p-toast")},dependencies:[X,ne,oe]})}}return e})();var se=(e,o)=>{let t=m(C),r=m(c);return l(r)?localStorage.getItem("token")!==null?!0:(t.navigate(["/auth/login"]),!1):!1};var ae=(e,o)=>{let t=m(C),r=m(c);return l(r)?localStorage.getItem("token")!==null?(t.navigate(["/exams"]),!1):!0:!1};var pe=[{path:"",redirectTo:"exams",pathMatch:"full"},{path:"auth",canActivate:[ae],loadComponent:()=>import("./chunk-WTOOSCCI.mjs").then(e=>e.AuthLayoutComponent),children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",loadComponent:()=>import("./chunk-ANHYNRPD.mjs").then(e=>e.LoginComponent)},{path:"register",loadComponent:()=>import("./chunk-R225VLLN.mjs").then(e=>e.RegisterComponent)},{path:"forgetPassword",loadComponent:()=>import("./chunk-LQDLISHP.mjs").then(e=>e.ForgetPasswordComponent)}]},{path:"exams",canActivate:[se],loadComponent:()=>import("./chunk-G4VCA6NP.mjs").then(e=>e.ExamsLayoutComponent),children:[{path:"",redirectTo:"quizes",pathMatch:"full"},{path:"quizes",loadComponent:()=>import("./chunk-CQNAPV5S.mjs").then(e=>e.QuizesComponent)},{path:"quizes-history",loadComponent:()=>import("./chunk-2K3UJ24K.mjs").then(e=>e.QuizHistoryComponent)},{path:"diploma/:id",loadComponent:()=>import("./chunk-WCQPK6K7.mjs").then(e=>e.DiplomaComponent)}]}];var w="Service workers are disabled or not supported by this browser";function ve(e){return y(()=>P(new Error(e)))}var f=class{constructor(o){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=ve(w);else{let r=T(o,"controllerchange").pipe(a(()=>o.controller)),n=y(()=>b(o.controller)),s=k(n,r);this.worker=s.pipe(d(u=>!!u)),this.registration=this.worker.pipe(g(()=>o.getRegistration()));let O=T(o,"message").pipe(a(u=>u.data)).pipe(d(u=>u&&u.type)).pipe(F());O.connect(),this.events=O}}postMessage(o,t){return this.worker.pipe(p(1),N(r=>{r.postMessage(A({action:o},t))})).toPromise().then(()=>{})}postMessageWithOperation(o,t,r){let n=this.waitForOperationCompleted(r),s=this.postMessage(o,t);return Promise.all([s,n]).then(([,i])=>i)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let t;return typeof o=="string"?t=r=>r.type===o:t=r=>o.includes(r.type),this.events.pipe(d(t))}nextEventOfType(o){return this.eventsOfType(o).pipe(p(1))}waitForOperationCompleted(o){return this.eventsOfType("OPERATION_COMPLETED").pipe(d(t=>t.nonce===o),p(1),a(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},we=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new R,!t.isEnabled){this.messages=h,this.notificationClicks=h,this.subscription=h;return}this.messages=this.sw.eventsOfType("PUSH").pipe(a(n=>n.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(a(n=>n.data)),this.pushManager=this.sw.registration.pipe(a(n=>n.pushManager));let r=this.pushManager.pipe(g(n=>n.getSubscription()));this.subscription=I(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(w));let r={userVisibleOnly:!0},n=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(n.length));for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return r.applicationServerKey=s,this.pushManager.pipe(g(i=>i.subscribe(r)),p(1)).toPromise().then(i=>(this.subscriptionChanges.next(i),i))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(w));let t=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(n=>{if(!n)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(p(1),g(t)).toPromise()}decodeBase64(t){return atob(t)}static{this.\u0275fac=function(r){return new(r||e)(S(f))}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac})}}return e})(),Ee=(()=>{class e{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled){this.versionUpdates=h,this.unrecoverable=h;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(w));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(w));let t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}static{this.\u0275fac=function(r){return new(r||e)(S(f))}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac})}}return e})();var ce=new _("");function be(e,o,t,r){return()=>{if(!(l(r)&&"serviceWorker"in navigator&&t.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let n;if(typeof t.registrationStrategy=="function")n=t.registrationStrategy();else{let[i,...E]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(i){case"registerImmediately":n=b(null);break;case"registerWithDelay":n=le(+E[0]||0);break;case"registerWhenStable":n=E[0]?I(ue(e),le(+E[0])):ue(e);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}e.get(j).runOutsideAngular(()=>n.pipe(p(1)).subscribe(()=>navigator.serviceWorker.register(o,{scope:t.scope}).catch(i=>console.error("Service worker registration failed with:",i))))}}function le(e){return b(null).pipe(D(e))}function ue(e){return e.get(B).isStable.pipe(d(t=>t))}function Ce(e,o){return new f(l(o)&&e.enabled!==!1?navigator.serviceWorker:void 0)}var v=class{};function he(e,o={}){return L([we,Ee,{provide:ce,useValue:e},{provide:v,useValue:o},{provide:f,useFactory:Ce,deps:[v,c]},{provide:H,useFactory:be,deps:[W,ce,v,c],multi:!0}])}var de=(e,o)=>(localStorage.getItem("token")!==null&&(e=e.clone({setHeaders:{token:localStorage.getItem("token")}})),o(e));var me={providers:[ee(pe,te()),$(),K(q(),Z([de])),he("ngsw-worker.js",{enabled:!z(),registrationStrategy:"registerWhenStable:30000"}),re,Y()]};var ye={providers:[J()]},fe=G(me,ye);var Te=()=>Q(ie,fe),mt=Te;export{mt as a};
